services:
  Core.MongoConfig:
    factory:
      class: ../../../../../contexts/core/_shared/infrastructure/persistence/mongo/MongoConfigFactory
      method: 'createConfig'

  Core.ConnectionManager:
    factory:
      class: ../../../../../contexts/_shared/infrastructure/persistence/mongo/MongoClientFactory
      method: 'createClient'
    arguments: ['core', '@Core.MongoConfig']

  Core.roulettes.domain.RouletteRepository:
    class: ../../../../../contexts/core/roulettes/infrastructure/persistence/MongoRouletteRepository
    arguments: ['@Core.ConnectionManager']

  Core.roulettes.application.GetRoulettes:
    class: ../../../../../contexts/core/roulettes/application/GetRoulettes
    arguments: ['@Core.roulettes.domain.RouletteRepository']

  Core.roulettes.application.GetSingleRoulette:
    class: ../../../../../contexts/core/roulettes/application/GetSingleRoulette
    arguments: ['@Core.roulettes.domain.RouletteRepository']

  Core.roulettes.application.CreateRoulette:
    class: ../../../../../contexts/core/roulettes/application/CreateRoulette
    arguments: ['@Core.roulettes.domain.RouletteRepository']

  Core.roulettes.application.CreateRouletteFromGroup:
    class: ../../../../../contexts/core/roulettes/application/CreateRouletteFromGroup
    arguments: ['@Core.roulettes.domain.RouletteRepository']

  Core.roulettes.application.DeleteRoulette:
    class: ../../../../../contexts/core/roulettes/application/DeleteRoulette
    arguments: ['@Core.roulettes.domain.RouletteRepository']